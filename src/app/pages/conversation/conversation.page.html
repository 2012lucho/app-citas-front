<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-avatar slot="start" class="contact-avatar">
      <img src="{{ contactInfo.avatar }}" />
    </ion-avatar>
    <ion-title (click)="showContactProfile( contactInfo )">
      <ion-label>
        <h2>{{ contactInfo.name }}</h2>
        <p><small class="text-muted">{{ contactInfo.status }}</small></p>
        <ion-badge color="success" *ngIf="contactInfo.online == 1">Online</ion-badge>
      </ion-label>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="bg">

  <div class="chat-container">
    <div *ngFor="let message of messages" class="chat-bubble" [(ngClass)]="message.type">
      <h6>{{ message.message }}</h6>
      <p>{{ message.created }}</p>
    </div>
  </div>

  <div class="chat-controls" [ngClass]="{'active': showOptions}">
    <ion-row class="option ion-text-center">

    </ion-row>
    <ion-row class="bg-white">
      <ion-col size="9" class="ion-no-padding">
        <ion-list lines="none" class="ion-no-padding">
          <ion-item>
            <ion-input placeholder="Escribe tu mensaje" type="text" (focus)="showOptionsToggle(false)" [(ngModel)]="newMessage.message"></ion-input>
          </ion-item>
        </ion-list>
      </ion-col>
      <ion-col size="3" class="ion-no-padding">
        <p class="ion-text-center icon-controls">
          <ion-icon mode="ios" name="send" class="text-primary" (click)="sendMessage()"></ion-icon>
          <ion-icon mode="ios" name="close-circle" *ngIf="showOptions" (click)="showOptionsToggle()"></ion-icon>
        </p>
      </ion-col>
    </ion-row>
  </div>

</ion-content>
